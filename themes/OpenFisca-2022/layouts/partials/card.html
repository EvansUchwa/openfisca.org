{{ $imageSrc := "/img/showcase/default.png" }}
{{ $newImageSrc := printf "/img/showcase/%s.png" .id }}
{{ if ( os.FileExists ( printf "/static%s" $newImageSrc ) ) }}
	{{ $imageSrc = $newImageSrc}}
{{ end }}

{{ $authorType := .Site.Params.showcase.author.types.icons.default }}
{{ with .author }}{{ with .type }}{{ $authorType = . }}{{ end }}{{ end }}
{{ $authorTypeIcon := index .Site.Params.showcase.author.types.icons $authorType }}

<div class="card {{ if .website }}card-hasLink{{ end }}">
	<div class="card_image">
		<img class="screenshot" src="{{ $imageSrc }}" alt="{{ .title }}" />
	</div>
	<div class="card_titleWrapper">
		<h3 class="card_title">{{ .title }}</h3>
		<div class="card_flag flag flag-{{ .country }}"><span>{{ .country }}</span></div>
	</div>
	<div class="card_desc">
		{{ .description }}
	</div>
	{{ with .tags }}
		<div class="card_tags">
			<ul class="tags">
				{{ range . }}
					<li class="tag">{{ . }}</li>
				{{ end }}
			</ul>
		</div>
	{{ end }}
	<a class="card_link" target="_blank" href="{{ .website | safeURL }}">{{ .website | safeURL }}</a>
	{{ with .author }}{{ with .name }}
		<div class="card_author">
				<div class="card_author_icon iconWrapper iconWrapper-rounded">
					<i icon-name="{{ $authorTypeIcon }}"></i>
				</div>			
				<div class="card_author_name">
					{{ . }}
				</div>		
		</div>
	{{ end }}{{ end }}
</div>
