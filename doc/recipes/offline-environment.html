<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Installing OpenFisca in an offline environment &#8212; OpenFisca  documentation</title>
    
    <link rel="stylesheet" href="../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/scripts.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Work on OpenFisca on a Windows without being administrator" href="windows-no-admin.html" />
    <link rel="prev" title="Using OpenFisca with Docker" href="howto_docker.html" />
  
   

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="windows-no-admin.html" title="Work on OpenFisca on a Windows without being administrator"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="howto_docker.html" title="Using OpenFisca with Docker"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../summary.html">OpenFisca  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Installation recipes</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
        <a href="
      ../index.html" class="text-logo">OpenFisca</a>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../key-concepts/index.html">Key concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coding-the-legislation/index.html">From law to code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running-simulation.html">How to run a simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openfisca-python-api/index.html">Openfisca Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openfisca-web-api/index.html">OpenFisca Web API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation recipes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="howto-web-no-local-install.html">Use OpenFisca on the web</a></li>
<li class="toctree-l2"><a class="reference internal" href="howto_docker.html">Using OpenFisca with Docker</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Installing OpenFisca in an offline environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="windows-no-admin.html">Work on OpenFisca on a Windows without being administrator</a></li>
<li class="toctree-l2"><a class="reference internal" href="test_situations.html">How to test your changes on &#8220;ready to use&#8221; situations (for OpenFisca-France)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../publishing.html">Publishing results based on OpenFisca</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contribute</a></li>
</ul>

    
  </div>
</div>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../summary.html">Docs</a></li>
              
                <li><a href="index.html">Installation recipes</a></li>
              
              <li>Installing OpenFisca in an offline environment</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="installing-openfisca-in-an-offline-environment">
<span id="installing-openfisca-in-an-offline-environment"></span><h1>Installing OpenFisca in an offline environment<a class="headerlink" href="#installing-openfisca-in-an-offline-environment" title="Permalink to this headline">¶</a></h1>
<p>If you need to install OpenFisca on a server with no Internet access, here is how to do it.</p>
<p>The big picture: download Python packages on a machine with Internet access, copy them to the server and install them in a <a class="reference external" href="https://virtualenv.pypa.io/en/stable/">virtualenv</a>.</p>
<p>We assume that it is possible to copy files to the server, for example via an USB key. Or perhaps the server filters only outgoing connections, but accepts incoming connections allowing to copy the files.</p>
<div class="section" id="on-the-machine-with-internet-access">
<span id="on-the-machine-with-internet-access"></span><h2>On the machine with Internet access<a class="headerlink" href="#on-the-machine-with-internet-access" title="Permalink to this headline">¶</a></h2>
<p>We are going to create a first virtualenv in which we&#8217;ll use <code class="docutils literal"><span class="pre">pip</span></code> to download the <code class="docutils literal"><span class="pre">.whl</span></code> files in a specific directory.</p>
<p>Here we use <a class="reference external" href="https://github.com/berdario/pew">pew</a> to simplify virtualenv management.</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>pip install pew
pew new openfisca-packages --python<span class="o">=</span>python3.7

<span class="c1"># Upgrade pip itself</span>
pip install --upgrade pip
pip --version
<span class="c1"># Should print at least 9.0 at the time we write this doc.</span>

mkdir ~/openfisca-packages
<span class="nb">cd</span> ~/openfisca-packages
pip download OpenFisca-France
<span class="c1"># You should see the downloaded files in the current directory.</span>
</pre></div>
</div>
<p>Now copy these files on the server (say in the <code class="docutils literal"><span class="pre">~/openfisca-packages</span></code> directory), either via an USB key, or with <code class="docutils literal"><span class="pre">scp</span></code>, or any other way.</p>
<p>Example with <code class="docutils literal"><span class="pre">scp</span></code>:</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>scp -r ~/openfisca-packages user@server:
</pre></div>
</div>
</div>
<div class="section" id="on-the-server">
<span id="on-the-server"></span><h2>On the server<a class="headerlink" href="#on-the-server" title="Permalink to this headline">¶</a></h2>
<p>Starting from here we assume you copied the packages on the server, say in <code class="docutils literal"><span class="pre">~/openfisca-packages</span></code>.</p>
<p>The following commands show how to install Python packages without any Internet access.
If you already have a virtualenv, activate it. Otherwise create a new one following the same instructions as above (for example with <code class="docutils literal"><span class="pre">pew</span> <span class="pre">new</span></code>).</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>pip install ~/openfisca-packages/*
    Processing ./isodate-0.5.4.tar.gz
    <span class="o">[</span>...<span class="o">]</span>
    Installing collected packages: pytz, Babel, Biryani, numpy, PyYAML, OpenFisca-Core, requests, OpenFisca-France, isodate
    Successfully installed Babel-2.3.4 Biryani-0.10.4 OpenFisca-Core-7.0.0 OpenFisca-France-15.1.0 PyYAML-3.12 isodate-0.5.4 numpy-1.12.0 pytz-2016.10 requests-2.13.0

pip list <span class="p">|</span> grep OpenFisca-France
    OpenFisca-France <span class="m">15</span>.1.0
</pre></div>
</div>
<p>Run the basic tests which confirm that OpenFisca-France is correctly installed:</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>python -m openfisca_france.tests.test_basics
OpenFisca-France basic <span class="nb">test</span> was executed successfully.
</pre></div>
</div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="howto_docker.html" title="previous chapter (use the left arrow)">Using OpenFisca with Docker</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="windows-no-admin.html" title="next chapter (use the right arrow)">Work on OpenFisca on a Windows without being administrator</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="windows-no-admin.html" title="Work on OpenFisca on a Windows without being administrator"
             >next</a> |</li>
        <li class="right" >
          <a href="howto_docker.html" title="Using OpenFisca with Docker"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../summary.html">OpenFisca  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Installation recipes</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2018, contact@openfisca.org. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>