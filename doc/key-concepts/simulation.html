<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Simulation, Computation &#8212; OpenFisca  documentation</title>
    
    <link rel="stylesheet" href="../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/scripts.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Reforms" href="reforms.html" />
    <link rel="prev" title="Periods, Instants" href="periodsinstants.html" />
  
   

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reforms.html" title="Reforms"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="periodsinstants.html" title="Periods, Instants"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../summary.html">OpenFisca  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Key concepts</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
        <a href="
      ../index.html" class="text-logo">OpenFisca</a>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Key concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tax_and_benefit_system.html">Tax and Benefit System</a></li>
<li class="toctree-l2"><a class="reference internal" href="variables.html">Variables and formulas</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters.html">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="person,_entities,_role.html">Person, entities, role</a></li>
<li class="toctree-l2"><a class="reference internal" href="periodsinstants.html">Periods, Instants</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Simulation, Computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="reforms.html">Reforms</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../coding-the-legislation/index.html">From law to code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simulate/index.html">Running a simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openfisca-python-api/index.html">Openfisca Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openfisca-web-api/index.html">OpenFisca Web API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recipes/index.html">Installation recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publishing.html">Publishing results based on OpenFisca</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contribute</a></li>
</ul>

    
  </div>
</div>
        
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../summary.html">Docs</a></li>
              
                <li><a href="index.html">Key concepts</a></li>
              
              <li>Simulation, Computation</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="simulation-computation">
<span id="simulation-computation"></span><h1>Simulation, Computation<a class="headerlink" href="#simulation-computation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="simulation-the-framework-of-computation">
<span id="simulation-the-framework-of-computation"></span><h2>Simulation: the framework of computation<a class="headerlink" href="#simulation-the-framework-of-computation" title="Permalink to this headline">¶</a></h2>
<p>A <em>Simulation</em> is basically the OpenFisca frame for calculating taxes or benefits.</p>
<p>To calculate any variable you need to create a <em>Simulation</em> from the <em>TaxBenefitSystem</em> that is to say the framework where you will compute your result.</p>
<blockquote>
<div>Technically speaking it is the cache of input data and previously computed results.</div></blockquote>
<p>It&#8217;s possible to run many independent simulations using the same <code class="docutils literal"><span class="pre">TaxBenefitSystem</span></code>.</p>
</div>
<div class="section" id="computing-variables">
<span id="computing-variables"></span><h2>Computing variables<a class="headerlink" href="#computing-variables" title="Permalink to this headline">¶</a></h2>
<p>To compute taxes and benefits, you need to define on who you want to do that and what already know about those persons groups of persons. This is what you will set as input data to your <em>Simulation</em>.</p>
<p>Then, be aware of the period over which you want to have your result. Some measures are calculated on a monthly basis other an annual one.</p>
<p>Now all the settings are given to run computation of taxes or benefits.</p>
<blockquote>
<div>For further information: see how to run a simulation in <a class="reference internal" href="../simulate/run-simulation.html"><span class="doc">this section</span></a> and the following <a class="reference external" href="http://mybinder.org:/repo/openfisca/tutorial">tutorial</a> &#8220;How to handle periods&#8221;</div></blockquote>
<div class="section" id="application-how-to-calculate-a-variable">
<span id="application-how-to-calculate-a-variable"></span><h3>Application: how to calculate a variable<a class="headerlink" href="#application-how-to-calculate-a-variable" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Calcul of the &#39;impot sur le revenu des personnes physiques&#39;</span>
<span class="n">impot</span> <span class="o">=</span> <span class="n">simulation</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="s1">&#39;irpp&#39;</span><span class="p">,</span> <span class="s1">&#39;2015&#39;</span><span class="p">)</span>
<span class="n">allocations_familiales</span> <span class="o">=</span> <span class="n">simulation</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="s1">&#39;af&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-01&#39;</span><span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div>HINT: Don&#8217;t forget to give the period.</div></blockquote>
<p>The output is an array:</p>
<ul class="simple">
<li>positive if it is an amount the <em>entity</em> receives from the state.</li>
<li>negative if it is an amount the <em>entity</em> has to pay.</li>
</ul>
<p><a class="reference internal" href="../simulate/run-simulation.html"><span class="doc">Read more about how to run a simulation</span></a>.</p>
</div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="periodsinstants.html" title="previous chapter (use the left arrow)">Periods, Instants</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="reforms.html" title="next chapter (use the right arrow)">Reforms</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reforms.html" title="Reforms"
             >next</a> |</li>
        <li class="right" >
          <a href="periodsinstants.html" title="Periods, Instants"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../summary.html">OpenFisca  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Key concepts</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2018, contact@openfisca.org. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>